
<html>
  <body>
    <div id="main-container"></div>

    <script src="lisp_markup.js"></script>
    <script src="lisp_markup_browser.js"></script>

    <script>
      var main_data = {
          prime_list: [2,3,5,7,11,13,17,19],
      }
      LispMarkup.addFunction('square', function(x){ return x*x; });
      LispMarkup.addFunction('*', function(x,y){ return x*y; });
      /*setTimeout(LispMarkupBrowser.updateAll, 2000);
      function after(){
          LispMarkupBrowser.update("mult_table", {});
      }*/
    </script>

    <script id="main-template" type="text/lisp-markup">
      (h1 Prime Numbers)

      (table
        (FOR ($i $p) prime_list 
          (tr (th $i)
              (td#prime_$i $p))))

      (h1 Prime Squares)
      (table
        (FOR () prime_list
          (tr (th square\((@) &nbsp;\))
              (td (square (@))))))

      (## ul (FOR $x (1 10) (li $x)))
      (#asdf-container)

      (#mult_table-container)

      (DEF asdf (h2 ASDF)
        (ul (FOR $x (1 10 0.7) (li $x))))

      (DEF mult_table
        (h1 Multiplication Table)
        (table
          (= ($low (@ low 1)
              $high (@ high 10))
            (tr (th x) (FOR $x ($low $high) (th $x)))
            (FOR $y ($low $high)
              (tr (th $y) (FOR $x ($low $high) (td (* $x $y))))))))

      (CSS (th (color white)
               (background blue)
               (border-bottom 1px solid black)
               (border-right 1px solid black)
               (font-family sans-serif))
           (td (font-size 180%) (text-align center)
               (border-bottom 1px solid black))
           (th,td (padding 8px 20px))
           (table (border-spacing 0)
                  (border 2px solid black)))
    </script>
  </body>
</html>
